<h1 id="quick-top-5-docker-cli-shortcuts">Quick top 5 <code>docker</code> cli shortcuts</h1>
<p>Difficulty level: <strong>low</strong></p>
<p>Containerization is an excellent way of applications isolation and Docker is one the most popular tools which allow us to do that.</p>
<p>In this short post i’m trying to put handy cli shortcuts which i use almost every day.</p>
<p>Alternatives to docker are: Podman, LXD, Containerd, RunC, Buildah, BuildKit, Kaniko.</p>
<p>The first 3 sounded familiar to me, though the last 4 is something to take a look and consider.</p>
<p>-more-</p>
<h2 id="build-image">Build image</h2>
<p>Build an <em>image</em> from Dockerfile:</p>
<p><em>(with <code>--no-cache</code> option)</em></p>
<pre><code>docker build --no-cache=true -t &lt;image-name&gt;:latest .</code></pre>
<p>–or– with passed build variable <code>staging</code> (use <code>--build-arg</code>)</p>
<pre><code>docker build --build-arg working_branch=staging --no-cache=true -t &lt;image-name&gt;:latest .</code></pre>
<p>–or– if you have multiple Dockerfiles within the single code repo (monorepository?) - let’s say all Dockerfile’s are in separate folders (<code>api</code> or <code>spa</code> in this example):</p>
<pre><code>docker build -t &lt;image-name&gt;:latest -f dockerfiles/api/Dockerfile .
docker build -t &lt;image-name&gt;:latest -f dockerfiles/spa/Dockerfile .</code></pre>
<h2 id="remove-all-exited-containers">Remove all exited <em>containers</em></h2>
<p>Handy if you run plenty of containers without <code>--rm</code> (<code>docker run --rm ...</code>) option or if you had a failed build.</p>
<pre><code>docker rm $(docker ps -a -q -f status=exited)</code></pre>
<h2 id="remove-all-unused-images">Remove all unused <em>images</em></h2>
<p>Handy if you had a build which failed or made another image revision and older containers are no longer in use.</p>
<pre><code>docker rmi -f $(docker images | grep &quot;&lt;none&gt;&quot; | awk &quot;{print \$3}&quot;)</code></pre>
<p>#hashtag1 #hashtag2</p>
